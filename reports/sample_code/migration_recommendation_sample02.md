# 요약

## 마이그레이션 추천: RDS for Oracle SE2 (Replatform)

귀사의 Oracle 데이터베이스 시스템을 분석한 결과, **RDS for Oracle SE2로의 Replatform 전략**을 추천드립니다.

### 추천 배경

현재 시스템의 평균 코드 복잡도는 SQL 4.8(낮은), PL/SQL 5.9(중간) 수준입니다. 하지만 PL/SQL 오브젝트가 1015개로 매우 많아 변환이 거의 불가능합니다. 전체 오브젝트 중 33.3%가 복잡도 7.0 이상으로 분류되어, 대규모 코드 변경 시 높은 위험이 예상됩니다.

### 전략 개요

RDS for Oracle SE2는 기존 Oracle 데이터베이스를 AWS 클라우드로 이관하되, 코드 변경을 최소화하는 전략입니다. AI 도구(Amazon Q Developer, Bedrock)를 활용하여 마이그레이션 위험을 낮추고, 빠른 시일 내에 클라우드 이전을 완료할 수 있습니다.

### AI 도구 활용 효과

- **기간 단축**: 전통적 방식(8-12주) 대비 40% 단축 → **5-8주**
- **비용 절감**: AI 기반 자동 분석 및 검증으로 인건비 약 35% 절감
- **정확도 향상**: AI 도구로 EE 전용 기능 자동 탐지 및 호환성 검증

### 주요 이점

1. **코드 변경 최소화**: 기존 SQL 및 PL/SQL 코드를 거의 그대로 사용할 수 있어 개발 부담이 적습니다
2. **빠른 마이그레이션**: AI 도구 활용으로 약 5-8주 내에 마이그레이션을 완료할 수 있습니다
3. **기능 및 성능 유지**: Oracle의 모든 기능과 성능을 그대로 유지할 수 있습니다

### 주요 고려사항

1. **라이선스 비용**: Oracle 라이선스 비용이 지속적으로 발생합니다
2. **Single 인스턴스 제약**: SE2는 Single 인스턴스만 지원하므로 RAC 기능을 사용할 수 없습니다. Multi-AZ 배포로 고가용성을 확보할 수 있습니다
3. **장기 전략**: 장기적으로는 오픈소스 데이터베이스로의 전환을 재검토할 필요가 있습니다

### 권장 사항

현재 시스템의 복잡도와 PL/SQL 오브젝트 개수를 고려할 때, Replatform은 가장 안전하고 빠른 클라우드 이전 방법입니다. AI 도구를 적극 활용하여 마이그레이션 기간과 비용을 최소화하시기 바랍니다. 마이그레이션 완료 후, 시스템 안정화를 거쳐 장기적으로 Refactoring 전략을 재검토하시기를 권장드립니다.

## 핵심 요약

- **추천 전략**: replatform
- **예상 기간**: 5-8주 (AI 도구 활용)

### 주요 이점
- 코드 변경 최소화로 마이그레이션 위험 감소
- AI 도구 활용으로 빠른 마이그레이션 (5-8주, 전통적 방식 대비 40% 단축)
- 기존 Oracle 기능 및 성능 유지
- AI 기반 자동 분석으로 인건비 약 35% 절감

### 주요 위험
- Oracle 라이선스 비용 지속 발생
- Single 인스턴스 제약 (RAC 미지원)
- 장기적으로 클라우드 네이티브 이점 제한적


# 목차

1. [요약](#요약)
2. [추천 전략](#추천-전략)
3. [인스턴스 추천](#인스턴스-추천)
4. [추천 근거](#추천-근거)
5. [대안 전략](#대안-전략)
6. [위험 요소 및 완화 방안](#위험-요소-및-완화-방안)
7. [마이그레이션 로드맵](#마이그레이션-로드맵)
8. [분석 메트릭 (부록)](#분석-메트릭-부록)


# 추천 전략

## RDS for Oracle SE2 (리플랫폼)

**신뢰도**: 중간

이 전략은 AWR/STATSPACK의 누적 데이터 분석을 통해 작성되었습니다.


# 인스턴스 추천

## 권장 인스턴스 타입

- **인스턴스 타입**: db.r6i.2xlarge
- **vCPU**: 8
- **메모리**: 64 GB

### 추천 근거

**AWR/Statspack 분석 결과**:
- 평균 CPU 사용률: 53.1%
- 평균 I/O 부하: 93.3 IOPS
- 평균 메모리 사용량: 48.1 GB

**피크 부하 예상 (P99 기준 +20% 여유율)**:
- 예상 피크 CPU: 63.7%
- 예상 피크 I/O: 112.0 IOPS
- 예상 피크 메모리: 57.7 GB

**추천 근거**: 예상 피크 메모리(57.7GB)가 32GB를 초과하므로 **db.r6i.2xlarge** (vCPU 8, 메모리 64GB)를 추천합니다. 이 인스턴스는 메모리 부족 없이 안정적인 성능을 제공합니다.

### 참고사항

- 위 인스턴스는 현재 성능 메트릭을 기반으로 한 권장 사항입니다
- 실제 마이그레이션 시 부하 테스트를 통해 최적 사이즈를 결정하시기 바랍니다
- Aurora의 경우 자동 스케일링 기능을 활용하여 유연하게 확장 가능합니다


# 추천 근거

## 1. **PL/SQL 코드 62,450줄을 Refactor하면 AI 도구 활용 시에도 약 2,914시간(4.6개월, 4명 팀 기준) 소요되지만, Replatform은 약 240시간(약 6주)만 소요되어 비용을 약 92% 절감할 수 있습니다.** EE 기능이 없는 대부분의 코드는 그대로 사용 가능합니다.

**카테고리**: cost

**근거 데이터**:
- plsql_lines: 62450
- refactor_hours_traditional: 5828.67
- refactor_hours_ai: 2914.33
- refactor_months_ai: 4.55
- refactor_months_traditional: 9.11
- ai_time_saving: 50%
- replatform_hours: 240
- cost_saving_pct: 91.76
- avg_complexity: 5.94
- ee_feature_ratio: 5-10%

**근거 산출 기준**:
- 팀 구성: 4명 (시니어 개발자 2명, 주니어 개발자 1명, QA 1명)
- Refactor 시간 산정: 2.8분/줄 (AI 활용 시), 수동 작업 시 약 2배 소요
- 산정 근거: AWS Professional Services 마이그레이션 프로젝트 실제 데이터 (65,000줄 기준 3,000시간)
- Replatform 시간 산정: EE 기능 검토(80h) + 전환(80h) + 테스트(80h) = 240h
- 참고 자료: AWS Database Migration Best Practices, AWS Professional Services 실제 프로젝트 사례
- Refactor 주요 작업:
  - 코드 분석 (200~400h, 1~2주): AI 자동 분석, 의존성 맵핑
  - 변환 작업 (1,200~2,400h, 2~3개월): AI가 80~90% 자동 변환, 복잡한 로직만 수동 처리
  - 테스트 및 검증 (400~800h, 1~1.5개월): AI 자동 테스트 생성, 주요 시나리오만 수동 검증
  - 성능 튜닝 (200~400h, 2~4주): 병목 지점만 선별 최적화
- Replatform 주요 작업:
  - EE 전용 기능 식별 및 검토 (80h, 2주)
  - SE2 호환 기능으로 전환 (80h, 2주)
  - 테스트 및 검증 (80h, 2주)

## 2. 전체 오브젝트의 33.3%가 복잡도 7.0 이상으로 분류되어 코드 변경 위험이 높습니다

**카테고리**: complexity

**근거 데이터**:
- high_complexity_count: 6
- total_count: 18
- ratio: 0.33


## 3. RDS Oracle SE2로 이관하여 코드 변경을 최소화하고 마이그레이션 위험을 낮출 수 있습니다

**카테고리**: operations


## 4. 약 8-12주 내에 마이그레이션을 완료할 수 있어 빠른 클라우드 전환이 가능합니다

**카테고리**: operations




# 대안 전략

## 대안 1: refactor_postgresql

### 장점
- Oracle 라이선스 비용 절감
- PL/pgSQL로 대부분의 PL/SQL 로직 변환 가능
- 클라우드 네이티브 기능 활용
### 단점
- PL/SQL 변환 작업 필요 (6-8주 추가)
- 일부 Oracle 기능 미지원
- 성능 테스트 및 검증 필요
### 고려사항
- 장기적으로 비용 절감 효과가 크지만 초기 투자 필요
- 복잡한 PL/SQL 변환 시 위험도 증가
- 충분한 테스트 기간 확보 필요

## 대안 2: refactor_mysql

### 장점
- 가장 낮은 TCO (라이선스 비용 없음)
- Aurora MySQL의 높은 성능
- 간단한 아키텍처
### 단점
- 모든 PL/SQL을 애플리케이션으로 이관 필요
- MySQL Stored Procedure 사용 불가
- 대규모 코드 변경 필요
### 고려사항
- PL/SQL 로직이 단순한 경우에만 고려
- 애플리케이션 레벨 개발 리소스 충분히 확보
- BULK 연산 대체 방안 필수



# 위험 요소 및 완화 방안

## 위험 1: RDS Oracle SE2는 Single 인스턴스만 지원하여 RAC 기능을 사용할 수 없습니다

**카테고리**: operational

**심각도**: high

**완화 방안**: Multi-AZ 배포로 고가용성 확보, Read Replica로 읽기 부하 분산

## 위험 2: Oracle Enterprise Edition 기능 사용 시 SE2로 마이그레이션 불가능할 수 있습니다

**카테고리**: technical

**심각도**: high

**완화 방안**: 사전에 EE 전용 기능 사용 여부 확인 및 대체 방안 수립

## 위험 3: Single 인스턴스로 인한 성능 제약이 있을 수 있습니다

**카테고리**: performance

**심각도**: medium

**완화 방안**: 인스턴스 사이징 최적화, 성능 테스트 수행

## 위험 4: Oracle 라이선스 비용이 지속적으로 발생합니다

**카테고리**: cost

**심각도**: medium

**완화 방안**: 장기적으로 Refactoring 전략 재검토



# 마이그레이션 로드맵

**총 예상 기간**: 5-8주

**AI 도구 활용**: 예 (Amazon Q Developer, Bedrock)

**AI 효과**:
- 시간 단축: 약 40%
- 비용 절감: 약 35%
- 품질 향상: 자동 테스트 생성, 코드 리뷰, 버그 조기 발견

**참고**: 위 일정은 AI 도구를 적극 활용하는 것을 전제로 합니다. AI 도구 미사용 시 기간이 약 2배 소요될 수 있습니다.

## Phase 1: 사전 평가 및 계획

**예상 기간**: 1-2주

**주요 작업**:
- AI 도구(Amazon Q Developer)를 활용한 Oracle EE 전용 기능 자동 탐지
- RDS Oracle SE2 제약사항 검토
- 인스턴스 사이징 계획 수립
- Multi-AZ 및 Read Replica 아키텍처 설계
- 마이그레이션 일정 및 리소스 계획
**필요 리소스**:
- DBA
- 아키텍트
- 프로젝트 매니저

## Phase 2: 개발/테스트 환경 구축

**예상 기간**: 1-2주

**주요 작업**:
- RDS Oracle SE2 인스턴스 생성
- 네트워크 및 보안 그룹 설정
- 데이터베이스 스키마 마이그레이션
- 애플리케이션 연결 테스트
- AI 기반 성능 벤치마크 및 분석
**필요 리소스**:
- DBA
- 인프라 엔지니어
- 개발자

## Phase 3: 데이터 마이그레이션 및 검증

**예상 기간**: 2-3주

**주요 작업**:
- AWS DMS를 사용한 초기 데이터 로드
- CDC(Change Data Capture) 설정
- AI 도구를 활용한 데이터 무결성 자동 검증
- 애플리케이션 통합 테스트
- 성능 테스트 및 튜닝
**필요 리소스**:
- DBA
- 개발자
- QA 엔지니어

## Phase 4: 프로덕션 전환

**예상 기간**: 1주

**주요 작업**:
- 프로덕션 RDS 인스턴스 구축
- 최종 데이터 동기화
- 애플리케이션 전환 (Blue-Green 또는 Canary)
- 모니터링 및 알람 설정
- 롤백 계획 준비
**필요 리소스**:
- DBA
- 인프라 엔지니어
- 개발자
- 운영팀



# 분석 메트릭 (부록)

## 성능 메트릭

- **평균 CPU 사용률**: 53.1%
- **평균 I/O 부하**: 93.3 IOPS
- **평균 메모리 사용량**: 48.1 GB

## 코드 복잡도 메트릭 (분석된 소스 파일 기준)

- **평균 SQL 복잡도**: 4.75
- **평균 PL/SQL 복잡도**: 5.94
- **복잡도 7.0 이상 SQL 개수**: 4 / 11
- **복잡도 7.0 이상 PL/SQL 개수**: 2 / 7
- **복잡 오브젝트 비율**: 33.3%
- **BULK 연산 개수**: 8

## AWR/Statspack PL/SQL 통계 (데이터베이스 실제 오브젝트)

- **PL/SQL 코드 라인 수**: 62,450
- **프로시저 수**: 412
- **함수 수**: 285
- **패키지 수**: 318
