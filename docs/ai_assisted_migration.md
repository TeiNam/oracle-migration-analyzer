# AI 도구를 활용한 마이그레이션 가이드

> [English](./EN/ai_assisted_migration_EN.md)

## 개요

AWS AI 도구(Amazon Q Developer, Amazon Bedrock)를 활용하면 PL/SQL 마이그레이션의 시간과 비용을 대폭 절감할 수 있습니다. 이 문서는 AWS AI 도구 활용 시 예상되는 효율 개선과 구체적인 활용 방안을 제시합니다.

## AI 활용 효과

### 전체 효율 개선

**보수적 추정 (안전 마진 포함):**
- **시간 단축**: 40%
- **인력 절감**: 30%
- **비용 절감**: 35~45%

**공격적 추정 (이상적 조건):**
- **시간 단축**: 60%
- **인력 절감**: 50%
- **비용 절감**: 55~65%

---

## 구체적 시나리오: 5만 줄 기준

### 전통적 Replatform (AI 없음)

**프로젝트 개요:**
- **기간**: 12개월
- **인력**: 6명
  - DBA: 2명
  - 개발자: 3명
  - QA: 1명
- **총 공수**: 72 man-months
- **예상 비용**: $1,200,000 (시간당 $100 기준)

**단계별 소요 시간:**
1. 코드 분석: 2개월
2. 변환 작업: 6개월
3. 테스트: 3개월
4. 문서화: 1개월

---

### AI 활용 Replatform

**프로젝트 개요:**
- **기간**: 5~7개월 (50~60% 단축)
- **인력**: 4명
  - DBA: 1명
  - 개발자: 2명
  - QA: 1명
- **총 공수**: 24~28 man-months (60~65% 절감)
- **예상 비용**: $400,000~$467,000 (시간당 $100 기준)
- **AI 도구 비용**: $10,000~$20,000
- **총 비용**: $410,000~$487,000

**비용 절감:**
- 절감액: $713,000~$790,000
- 절감률: 59~66%

---

## 단계별 AI 효과

### 1. 코드 분석 단계 (70% 단축)

**전통적 방식 (2개월):**
- 수동으로 코드 리뷰
- 의존성 분석
- 복잡도 평가
- 패턴 식별

**AI 활용 방식 (0.5~1개월):**
- Amazon Q Developer로 전체 코드베이스 자동 분석
- 의존성 그래프 자동 생성
- 복잡도 자동 계산
- 패턴 및 안티패턴 자동 식별
- 마이그레이션 위험 요소 자동 탐지

**AI 도구:**
- **Amazon Q Developer**: 코드 분석 및 의존성 파악, Oracle EE 기능 탐지
- **Amazon Bedrock (Claude 4.5 Sonnet)**: 복잡한 비즈니스 로직 분석, 대규모 코드 패턴 분석
- **자체 분석 도구**: oracle-migration-analyzer (본 프로젝트)

**효과:**
- 시간: 2개월 → 0.5~1개월
- 인력: 3명 → 2명
- 정확도: 수동 대비 95% 이상

---

### 2. 변환 작업 단계 (50% 단축)

**전통적 방식 (6개월):**
- AWS SCT로 기본 변환
- 수동으로 오류 수정
- 복잡한 로직 재작성
- 코드 리뷰 및 검증

**AI 활용 방식 (3개월):**
- Amazon Q Developer로 1차 자동 변환
- Amazon Bedrock으로 복잡한 로직 변환 전략 수립
- 단순 로직은 거의 자동 변환 (70~80%)
- 복잡한 부분만 수동 수정 (20~30%)
- AI 기반 코드 리뷰

**AI 도구:**
- **Amazon Q Developer**: PL/SQL → PL/pgSQL 자동 변환, SQL 쿼리 변환
- **Amazon Bedrock (Claude 4.5 Sonnet)**: 복잡한 로직 변환 전략 제시, 대량 코드 변환 (200K 토큰 컨텍스트 활용)

**효과:**
- 시간: 6개월 → 3개월
- 단순 로직 자동 변환률: 70~80%
- 수동 작업: 20~30%만 필요

**변환 성공률 (복잡도별):**
- 낮은 복잡도 (< 5.0): 85~95% 자동 변환
- 중간 복잡도 (5.0~7.0): 65~80% 자동 변환
- 높은 복잡도 (> 7.0): 40~60% 자동 변환

---

### 3. 테스트 단계 (40% 단축)

**전통적 방식 (3개월):**
- 테스트 케이스 수동 작성
- 테스트 데이터 준비
- 테스트 실행 및 검증
- 버그 수정 및 재테스트

**AI 활용 방식 (1.5~2개월):**
- Amazon Bedrock으로 테스트 케이스 자동 생성
- 엣지 케이스 자동 식별
- 테스트 데이터 자동 생성
- 자동화된 회귀 테스트

**AI 도구:**
- **Amazon Q Developer**: 단위 테스트 및 통합 테스트 자동 생성
- **Amazon Bedrock (Claude 4.5 Sonnet)**: 테스트 시나리오 및 엣지 케이스 자동 생성, 테스트 데이터 생성

**효과:**
- 시간: 3개월 → 1.5~2개월
- 테스트 커버리지: 70% → 85~90%
- 버그 조기 발견률: 40% 향상

---

### 4. 문서화 단계 (60% 단축)

**전통적 방식 (1개월):**
- 코드 주석 작성
- 마이그레이션 가이드 작성
- API 문서 작성
- 운영 매뉴얼 작성

**AI 활용 방식 (0.5개월):**
- Amazon Bedrock으로 코드 주석 자동 생성
- 문서 템플릿 자동 작성
- API 문서 자동 생성
- 운영 매뉴얼 초안 자동 생성

**AI 도구:**
- **Amazon Q Developer**: 코드 주석 및 기술 문서 자동 생성
- **Amazon Bedrock (Claude 4.5 Sonnet)**: 상세 문서 작성, 다국어 번역, 대규모 문서 생성

**효과:**
- 시간: 1개월 → 0.5개월
- 문서 품질: 일관성 향상
- 다국어 지원: 자동 번역

---

## 현실적 제약사항

### AI 효과가 제한적인 영역

1. **비즈니스 로직 검증**
   - AI는 코드 변환은 가능하지만, 비즈니스 의미는 이해 못함
   - 도메인 전문가의 검증 필수
   - 예상 시간 절감: 10~20%

2. **성능 튜닝**
   - 실제 데이터 기반 판단 필요
   - 프로덕션 환경 특성 고려
   - AI는 일반적인 최적화만 제안
   - 예상 시간 절감: 20~30%

3. **최종 의사결정**
   - 아키텍처 선택
   - 전략적 판단
   - 리스크 평가
   - 아키텍트 검토 필수

4. **레거시 코드 이해**
   - 문서화되지 않은 비즈니스 규칙
   - 암묵적 의존성
   - 히스토리컬 컨텍스트
   - 시니어 개발자 필요

---

## AWS AI 도구

### 1. Amazon Q Developer

**개요:**
Amazon Q Developer는 IDE에 통합되어 코드 작성, 변환, 최적화를 지원하는 AI 어시스턴트입니다. Java, .NET, SQL 등 다양한 언어의 코드 변환을 자동화하고, AWS 서비스와의 통합을 지원합니다.

**주요 기능:**
- **코드 변환**: Java 버전 업그레이드, .NET 애플리케이션 Linux 전환, SQL 변환
- **코드 생성**: AWS SDK 코드 자동 생성, 보일러플레이트 코드 작성
- **보안 스캔**: 코드 내 보안 취약점 자동 탐지 및 수정 제안
- **코드 리뷰**: 코드 품질 개선 제안, 베스트 프랙티스 적용
- **의존성 분석**: 코드 간 의존성 자동 파악 및 시각화

**마이그레이션 활용 시나리오:**
- Oracle EE 전용 기능 자동 탐지
- PL/SQL 코드 구조 분석 및 복잡도 평가
- SQL 쿼리 자동 변환 (Oracle → PostgreSQL/MySQL)
- 데이터베이스 스키마 호환성 검증
- 마이그레이션 계획 수립 지원

**비용:**
- **Free Tier**: 기본 코드 완성 및 제안 (무료)
- **Professional**: 개발자당 $19/월 (고급 기능 포함)
- **Enterprise**: 별도 협의 (조직 전체 라이선스, 우선 지원)

**참고 문서:**
- [Amazon Q Developer 사용자 가이드](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/)
- [코드 변환 기능](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/transform-in-IDE.html)

---

### 2. Amazon Bedrock (Claude 4.5 Sonnet)

**개요:**
Amazon Bedrock은 Anthropic의 Claude를 포함한 다양한 Foundation Model을 API로 제공하는 완전 관리형 서비스입니다. 이 문서에서는 최신 Claude 4.5 Sonnet 모델을 기준으로 설명합니다.

**Claude 4.5 Sonnet 주요 특징:**
- **대규모 컨텍스트**: 최대 200K 토큰 입력 지원 (약 150,000 단어)
- **코드 이해**: 복잡한 코드 로직 분석 및 변환 전략 제시
- **정확한 추론**: 복잡한 비즈니스 로직 이해 및 변환
- **다국어 지원**: 한국어 포함 다양한 언어 지원
- **안전성**: 기업용 안전 가드레일 내장

**마이그레이션 활용 시나리오:**
- **대규모 코드 분석**: 수천 줄의 PL/SQL 코드 일괄 분석
- **복잡한 로직 변환**: 복잡한 비즈니스 로직을 PL/pgSQL 또는 애플리케이션 코드로 변환
- **문서 자동 생성**: 마이그레이션 가이드, API 문서, 운영 매뉴얼 자동 작성
- **테스트 케이스 생성**: 변환된 코드에 대한 단위 테스트 및 통합 테스트 자동 생성
- **마이그레이션 전략 수립**: 코드 복잡도 분석 기반 최적 전략 제안

**비용 (Claude 4.5 Sonnet 기준):**
- **On-Demand 모드**:
  - 입력: $3.00 / 1M 토큰
  - 출력: $15.00 / 1M 토큰
- **Provisioned Throughput**: 예약 용량 구매 시 할인 (대규모 사용 시 권장)
- **예상 비용 예시**:
  - 5만 줄 PL/SQL 분석 (약 150만 토큰): 입력 $4.50
  - 변환 코드 생성 (약 50만 토큰): 출력 $7.50
  - 총 약 $12 (1회 전체 분석 기준)

**장점:**
- **AWS 네이티브 통합**: VPC, IAM, CloudWatch와 완벽한 통합
- **데이터 보안**: 데이터가 AWS 외부로 전송되지 않음, 모델 학습에 미사용
- **엔터프라이즈 지원**: SLA 보장, 24/7 기술 지원
- **유연한 모델 선택**: Claude 외 다른 Foundation Model도 선택 가능
- **커스텀 모델**: 자체 데이터로 파인튜닝 가능

**참고 문서:**
- [Amazon Bedrock 사용자 가이드](https://docs.aws.amazon.com/bedrock/latest/userguide/)
- [Amazon Bedrock 가격](https://aws.amazon.com/bedrock/pricing/)
- [Claude 모델 정보](https://docs.aws.amazon.com/bedrock/latest/userguide/models-features.html)

---

## 비용 비교 (5만 줄 기준)

### 시나리오 1: AI 없음

| 항목 | 비용 |
|------|------|
| 인건비 (72 man-months) | $1,200,000 |
| 도구 비용 (AWS SCT 등) | $50,000 |
| **총 비용** | **$1,250,000** |
| **기간** | **12개월** |

---

### 시나리오 2: AI 활용 (보수적)

| 항목 | 비용 |
|------|------|
| 인건비 (28 man-months) | $467,000 |
| AI 도구 비용 (Q Developer + Bedrock) | $15,000 |
| 기존 도구 비용 (AWS SCT 등) | $30,000 |
| **총 비용** | **$512,000** |
| **기간** | **7개월** |
| **절감액** | **$738,000 (59%)** |

**AI 도구 비용 상세:**
- Amazon Q Developer Professional: $19/월 × 4명 × 7개월 = $532
- Amazon Bedrock (Claude 4.5 Sonnet): 약 $14,468
  - 코드 분석 (500만 토큰 입력): $15
  - 코드 변환 (200만 토큰 입력, 100만 토큰 출력): $21
  - 테스트 생성 (100만 토큰 입력, 50만 토큰 출력): $10.50
  - 문서 생성 (50만 토큰 입력, 100만 토큰 출력): $16.50
  - 반복 작업 및 리뷰 (약 300회 반복): $14,405

---

### 시나리오 3: AI 활용 (공격적)

| 항목 | 비용 |
|------|------|
| 인건비 (24 man-months) | $400,000 |
| AI 도구 비용 (Q Developer + Bedrock) | $15,000 |
| 기존 도구 비용 (AWS SCT 등) | $30,000 |
| **총 비용** | **$445,000** |
| **기간** | **6개월** |
| **절감액** | **$805,000 (64%)** |

**참고**: AI 도구 비용은 전체 프로젝트 비용의 약 3.4%에 불과하지만, 인건비를 약 $800,000 절감하여 ROI는 약 5,300%입니다.

---

## 권장 사항

### AI 도구 선택 기준

1. **프로젝트 규모**
   - 소규모 (< 2만 줄): Amazon Q Developer Professional
   - 중규모 (2~5만 줄): Amazon Q Developer + Amazon Bedrock (On-Demand)
   - 대규모 (> 5만 줄): Amazon Q Developer Enterprise + Amazon Bedrock (Provisioned Throughput)

2. **팀 역량**
   - AWS AI 도구 사용 경험 필수
   - 초기 학습 기간 2~4주 필요
   - 베스트 프랙티스 공유 중요

3. **예산**
   - AI 도구 비용: 전체 예산의 1~3%
   - ROI: 300~500%
   - 투자 가치 충분

---

## 실행 계획

### 1단계: AI 도구 도입 (1주)

- **Amazon Q Developer 설정**
  - IDE(VS Code, IntelliJ, Visual Studio 등)에 Amazon Q 플러그인 설치
  - AWS 계정 연동 및 권한 설정
  - Professional 또는 Enterprise 라이선스 구매
  
- **Amazon Bedrock 액세스 설정**
  - AWS 콘솔에서 Amazon Bedrock 활성화
  - Claude 4.5 Sonnet 모델 액세스 요청 및 승인
  - IAM 권한 설정 (bedrock:InvokeModel 등)
  - VPC 엔드포인트 구성 (보안 강화 시)
  
- **팀 교육 및 온보딩**
  - Amazon Q Developer 기본 사용법 교육
  - Amazon Bedrock API 사용법 교육
  - 프롬프트 엔지니어링 베스트 프랙티스 공유
  - 실습 프로젝트로 도구 익히기

### 2단계: 파일럿 프로젝트 (2~4주)

- 소규모 모듈로 AI 도구 테스트
  - Amazon Q Developer로 코드 분석 및 변환
  - Amazon Bedrock으로 복잡한 로직 변환 전략 수립
- AI 효과 측정
  - 시간 단축률 측정
  - 변환 정확도 평가
  - 비용 절감 효과 분석
- 베스트 프랙티스 수립
  - 효과적인 프롬프트 패턴 정리
  - 도구별 최적 활용 시나리오 문서화
- 프로세스 최적화
  - AI 도구 워크플로우 개선
  - 팀 협업 프로세스 정립

### 3단계: 전체 적용 (프로젝트 기간)

- 모든 마이그레이션 단계에 AI 활용
  - 코드 분석: Amazon Q Developer + 자체 분석 도구
  - 코드 변환: Amazon Q Developer + Amazon Bedrock
  - 테스트: Amazon Bedrock으로 테스트 케이스 생성
  - 문서화: Amazon Bedrock으로 문서 자동 생성
- 지속적인 개선
  - 주간 회고를 통한 프로세스 개선
  - AI 도구 활용 노하우 공유
- 효과 모니터링
  - 시간/비용 절감 효과 추적
  - 품질 지표 모니터링 (버그율, 테스트 커버리지)
- 팀 피드백 수렴
  - AI 도구 만족도 조사
  - 개선 요청사항 수집 및 반영

---

## 결론

### 핵심 메시지

1. **AWS AI 도구는 필수**: Amazon Q Developer와 Amazon Bedrock 활용으로 40~60% 시간 단축, 30~50% 인력 절감
2. **비용 대비 효과**: AI 도구 비용은 전체의 1~3%지만, ROI는 300~500%
3. **현실적 기대**: 모든 것을 AI가 해결하지는 못함. 사람의 판단 여전히 중요
4. **지속적 학습**: AWS AI 도구는 계속 발전. 최신 기능 활용 필요
5. **데이터 보안**: AWS 네이티브 서비스로 데이터 보안 및 컴플라이언스 보장

### 의사결정 체크리스트

- [ ] AWS AI 도구 예산 확보 (Amazon Q Developer + Amazon Bedrock)
- [ ] 팀 AWS AI 도구 사용 역량 평가
- [ ] AWS 계정 및 IAM 권한 설정
- [ ] Amazon Bedrock 모델 액세스 승인
- [ ] 파일럿 프로젝트 계획
- [ ] 베스트 프랙티스 수립
- [ ] 효과 측정 지표 정의
- [ ] 지속적 개선 프로세스 수립

---

## 참고 자료

### AWS 공식 문서
- [Amazon Q Developer 사용자 가이드](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/)
- [Amazon Bedrock 사용자 가이드](https://docs.aws.amazon.com/bedrock/latest/userguide/)
- [Amazon Bedrock 가격](https://aws.amazon.com/bedrock/pricing/)
- [AWS 마이그레이션 허브](https://aws.amazon.com/migration-hub/)

### 프로젝트 문서
- [Oracle 마이그레이션 복잡도 및 전략 가이드](oracle_complexity_formula.md)
- [Oracle to PostgreSQL 마이그레이션 가이드](migration_guide_aurora_pg16.md)
- [Oracle to MySQL 마이그레이션 가이드](migration_guide_aurora_mysql80.md)
